### Vue的设计哲学
作为每天都在使用`Vue`框架的开发者来说，可能`Vue`到底是什么这个问题也不一定能回答到位，我从官网截取了一段对`Vue`的描述: 

> Vue是一套用于构建用户界面的渐进式框架

这样的一句简述似乎也不是那么好理解，但是他提供给我们两个很好的角度来解释`Vue`。

## 1. 构建用户界面
这句话描述了`Vue`的本职工作就是提供一种通过`Vue`来构建用户界面的方式，并且单纯的工作在视图层；
`Vue`核心不关心视图以外的部分，它仅提供一种构建视图的方式，至于项目的数据怎么治理、单页面应用路由如何处理等等东西都不是它关心的内容。
那么`Vue`究竟提供了一种什么样的方式来构建用户界面呢？  
这时候还是的贴上一段`Vue`的代码比较容易理解：
```html
<div id="app">
  {{ message }}
</div>
```

```js
<script>
  var app = new Vue({
    el: '#app',
    data: {
      message: 'Hello Vue!'
    }
  })
</script>
```

#### * 数据驱动
从代码格式中一眼就能看出：不同于`react`的`all in js`，`Vue`主张的是那种更加特近原生开发的方式来构建代码，这也是`Vue`上手友好的体现，
同时也是`Vue`的特点。  
更具体的构建方式是依赖于`Vue`本身的响应式系统和模板系统，将我们的开发从具体的按代码逻辑操作`Dom`变成构建视图与数据之间响应式的关系，
一切的`Dom`操作都被映射成数据的变更。当我们不再关注`API`细节时，我们会发现`Vue`应用就是在构建视图和响应式数据的对应关系，
用户交互等作用最终也是具体到数据的更改上最后再映射回视图上。如果更加抽象的表达，我们可以得到如下的函数： 
::: tip 前提
1. 用户界面即`UI`  
2. 数据包含状态和属性  
3. 我们暂且不考虑状态和属性的区别，而且也默认行为被包含在状态的背后
:::
> `UI = f(data)`  

这样的对于**UI**的表达可能需要一些详尽的讨论才能更好理解，我们放在之后的篇章去讨论，但是至少很容易对应起来`Vue`在做的事情就是完成了这个函数的映射功能，也是在强调视图即数据；
暂且不去说`Vue`的`API`细节是怎么样实现的，至少`Vue`提供给我们这样一种数据驱动视图的思考**UI**的方式；
所以`Vue`看似是原生分离`html`、`JavaScript`和`css`开发，却有着完全不同于原生开发的思维方式。  

#### * 渲染机制
我们都知道`Vue`既可以采用模板的形式来表现视图，也可以直接手写`render`函数，到现在的`Vue3`还是依旧保留着`virtual dom`并且同时提供
这两种表达视图的方式，我们书写模板能得到更好的运行时性能，在一些高级场景手写`render`函数能得到更好灵活性，
这也是`Vue`设计中平衡的一个体现。  
`Vue`非常看重`virtual dom`层带来的表达力，因为从`virtual dom`层能将`Vue`的**UI**构建方式移接到各个平台，
而传统`virtual dom`的性能瓶颈又在与`diff`的时候不可避免的需要深度对比从而大量的占用`CPU`时间，
`Vue3`中另辟蹊径的将模板编译时的信息标记做的更加彻底，使得运行时`virtual dom`性能不再是瓶颈，
同时也保有了手写`render`的灵活性；这样的编译时优化方案使得`Vue`在运行时可以不用做时间切片，运行时的代码也变得更加简洁，
这无不体现了`Vue`在性能与渲染能力上的平衡。

## 2. 渐进式的框架
谈到渐进式，我们先考虑一个问题为什么需要框架呢？尤大曾在`Vue2.0`发布之际的一次演讲中谈到过，框架的存在是为了帮助我们应对复杂度。怎么理解呢？
在前端项目中我们需要解决一些工程上的问题的时候，这些问题会有不同的复杂度。如果使用的工具太过于简陋，其实在应对项目问题的时候，
我们解决问题所需要的复杂度就会更高；框架正是将一些重复的并且经过验证的模式，封装到设计好的`API`中，帮助我们去应对更复杂的问题。
我们考虑到项目工程是有复杂度高低的，但是忽略了框架本身其实也是有复杂度，而渐进式的体现就在于框架本身的复杂度是具有伸缩性的。  
##### 如何理解框架本身复杂度的伸缩性？
其实从`Vue`核心只关注视图层就不难看出，`Vue`完全是可以被当做一个简单的视图库来承载某个应用中的一部分页面或者模块的，
它本身并没有很多强制性的绑定，不是说要使用`Vue`就必须配合上全家桶，你可以灵活的选取`Vue`处于你项目中的分量和角色。  
再到`Vue`本身时，我需要上一张来自官方的图来辅助讲解：

![渐进式](/vue3-analysis/idea/progress-vue.png)

从`Vue`核心的声明式渲染开始，用户可以选择性的集成更多的系统来构建应用，这里并没有太多的强制性要求，
而是可以让用户根据项目复杂度来决定框架所需复杂度；当然`Vue`官方为了保证社区不会过于碎片化，
对一些核心模块还是交由官方来维护，以插件的形态存在于`Vue`的生态中。  
如果在你的项目中需要组件化的系统，你能很轻松地通过`Vue`提供的组件化能力来构建系统；如果你需要更加细分化的页面展示
以及更加系统的数据状态管理，`Vue`都会提供一个官方的途径来使得你更加轻松的基于`Vue`开始构建应用；对于构建工具`Vue`
甚至提供了完备的`vue-cli`工具和一系列的`devtools`；所有的一切都是可选择的、非强制性的。  
这一特性和`React`是很类似的，两者都是关注于视图层的库，能随着项目需求来改变框架本身的复杂度，从而自如的在不同体量不同复杂度
的项目中扮演合适的角色；比如在简单项目中，`Vue`能够仅提供核心的声明式渲染库来降低开发的复杂度，在复杂的大型应用中也能够
集成向路由解决方案、数据管理方案来降低项目的复杂度；这是渐进式的主要体现也是`Vue`设计中平衡的又一体现。

## 总结
让我们现在再通过自己的语言回答一下`Vue`是什么这个问题：`Vue`是一个关注在视图层的框架，
他为我们提供了一种响应式的描述`UI`的方式，并且对于`Vue`本身来说它是具有伸缩性的能动态调节自身复杂度以适应不同的业务复杂度。  
我们现在已经能够回答什么是`Vue`了，似乎也体会到了一点点`Vue`的设计理念——基于响应式数据驱动**UI**的思考方式和平衡至上的渐进式框架设计，
但是`Vue`的内核做了什么来支撑数据驱动视图呢？响应式系统又是什么？又是如何被设计的呢？现在我们继续探寻这些问题的答案。

## 参考资料
* [尤雨溪论JavaScript框架设计哲学：平衡](https://www.bilibili.com/video/BV134411c7Sk)